<!DOCTYPE html>
<html>
	<head>
		<meta name="mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="application-name" content="–†–µ–µ—Å—Ç—Ä –∏–Ω–æ–∞–≥–µ–Ω—Ç–æ–≤">
		<meta name="apple-mobile-web-app-title" content="–†–µ–µ—Å—Ç—Ä –∏–Ω–æ–∞–≥–µ–Ω—Ç–æ–≤">
		<meta name="theme-color" content="#eeeeee">
		<meta name="msapplication-navbutton-color" content="#eeeeee">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
		<meta name="msapplication-starturl" content="/">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

		<link rel="icon" type="image/jpeg" sizes="256x256" href="https://hsto.org/webt/a_/xt/c_/a_xtc_o6zp8oqpzkamwvuzlayfq.jpeg">
		<link rel="apple-touch-icon" type="image/jpeg" sizes="256x256" href="https://hsto.org/webt/a_/xt/c_/a_xtc_o6zp8oqpzkamwvuzlayfq.jpeg">
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>–†–µ–µ—Å—Ç—Ä –∏–Ω–æ–∞–≥–µ–Ω—Ç–æ–≤</title>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
		<link href="https://cdnjs.cloudflare.com/ajax/libs/gridjs/6.0.6/theme/mermaid.min.css" rel="stylesheet">
		<script src="https://cdnjs.cloudflare.com/ajax/libs/gridjs/6.0.6/gridjs.production.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
		<script src="https://unpkg.com/gridjs@6.0.6/l10n/dist/l10n.umd.js"></script>
		<script src="https://momentjs.com/downloads/moment.min.js"></script>

		<style>
			@import url("https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css");
			@media print {
				.noprint {
					display: none;
				}
				.print {
					display: block;
				}
			}
			.value {
				margin-top: -15px;
			}
		</style>
	</head>
	<body>
		<div id="card" class="modal fade">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h1 class="modal-title fs-5" id="exampleModalLabel">–ó–∞–ø–∏—Å—å ‚Ññ<span id="number"></span></h1>
						<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="–ó–∞–∫—Ä—ã—Ç—å"></button>
					</div>
					<div class="modal-body">
						<div class="row">
							<div class="col">
								<p>–§–ò–û/–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ</p>
								<p id="name" class="value text-body-secondary"></p>
								<p>–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è</p>
								<p id="dob" class="value text-body-secondary"></p>
								<p>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è <a class="noprint" data-bs-toggle="tooltip" data-bs-title="–î–ª—è —Ñ–∏–∑.–ª–∏—Ü —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ò–ù–ù –∏ –°–ù–ò–õ–°, –¥–ª—è —é—Ä.–ª–∏—Ü –†–§ —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ò–ù–ù –∏ –û–ì–†–ù, –¥–ª—è –∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã—Ö —é—Ä.–ª–∏—Ü —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –Ω–æ–º–µ—Ä –≤ —Å—Ç—Ä–∞–Ω–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏"><i class="bi bi-question-circle"></i></a></p>
								<p id="reg" class="value text-body-secondary"></p>
							</div>
							<div class="col">
								<p>–û—Å–Ω–æ–≤–∞–Ω–∏–µ –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è</p>
								<p class="value text-body-secondary"><a href="" id="law_link"><span id="law"></span></a></p>
								<p>–î–∞—Ç–∞ –≤–∫–ª—é—á–µ–Ω–∏—è</p>
								<p id="dateIn" class="value text-body-secondary"></p>
								<p>–î–∞—Ç–∞ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–∏—è —Ä–µ—à–µ–Ω–∏—è –æ –≤–∫–ª—é—á–µ–Ω–∏–∏</p>
								<p id="datePubl" class="value text-body-secondary"></p>
								<p>–î–∞—Ç–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏—è</p>
								<p id="dateOut" class="value text-body-secondary"></p>
							</div>
						</div>
						<div class="row noprint">
							<div class="accordion">
								<div class="accordion-item">
									<h2 class="accordion-header">
										<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseResources" aria-expanded="false" aria-controls="collapseResources">
											–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã
										</button>
									</h2>
									<div id="collapseResources" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
										<div style="word-wrap: break-word;" class="accordion-body">
											<span id="resources"></span>
										</div>
									</div>
								</div>
								<div class="accordion-item">
									<h2 class="accordion-header">
										<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseMembers" aria-expanded="false" aria-controls="collapseMembers">
											–£—á–∞—Å—Ç–Ω–∏–∫–∏
										</button>
									</h2>
									<div id="collapseMembers" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
										<div style="word-wrap: break-word;" class="accordion-body">
											<span id="members"></span>
										</div>
									</div>
								</div>
								<div class="accordion-item">
									<h2 class="accordion-header">
										<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseMsg" aria-expanded="false" aria-controls="collapseMsg">
											–°–Ω–æ—Å–∫–∞ (–¥–ª—è —Å–∞–π—Ç–æ–≤ –∏ —Ç.–ø)
										</button>
									</h2>
									<div id="collapseMsg" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
										<div class="accordion-body">
											<span id="msg"></span>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="noprint modal-footer">
						<a href="" target="_blank" id="press_link"><button type="button" class="btn btn-primary">–ü—Ä–∏—á–∏–Ω—ã –≤–Ω–µ—Å–µ–Ω–∏—è (Œ≤)</button></a>
						<button type="button" onclick="window.print()" class="btn btn-primary">–ü–µ—á–∞—Ç—å</button>
						<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">–ó–∞–∫—Ä—ã—Ç—å</button>
					</div>
				</div>
			</div>
		</div>
		<nav class="navbar bg-body-tertiary noprint">
			<div class="container-fluid">
				<span class="navbar-brand mb-0 h1"><img src="https://habrastorage.org/webt/a_/xt/c_/a_xtc_o6zp8oqpzkamwvuzlayfq.jpeg" alt="Logo" width="30" height="30" class="d-inline-block align-text-top"> –†–µ–µ—Å—Ç—Ä –∏–Ω–æ–∞–≥–µ–Ω—Ç–æ–≤</span>
				<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
				<div class="collapse navbar-collapse" id="navbarNav">
					<ul class="navbar-nav">
						<li class="nav-item"><a class="nav-link active" aria-current="page" href="index.html">–ì–ª–∞–≤–Ω–∞—è</a></li>
						<li class="nav-item"><a class="nav-link" href="stats.html">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</a></li>
						<li class="nav-item"><a class="nav-link" href="https://minjust.gov.ru/ru/activity/directions/998/">–†–µ–µ—Å—Ç—Ä –Ω–∞ —Å–∞–π—Ç–µ –ú–∏–Ω–∏—Å—Ç–µ—Ä—Å—Ç–≤–∞ –Æ—Å—Ç–∏—Ü–∏–∏</a></li>
						<li class="nav-item"><a class="nav-link" href="https://minjust.gov.ru/ru/events/list/?words=–û+—Ä–µ–µ—Å—Ç—Ä–µ+–∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã—Ö+–∞–≥–µ–Ω—Ç–æ–≤&start_date=&end_date=&page=1">–ü–æ–∏—Å–∫ –ø—Ä–∏—á–∏–Ω—ã –≤–Ω–µ—Å–µ–Ω–∏—è</a></li>
						<li class="nav-item"><a class="nav-link" href="http://unro.minjust.ru/NKOReports.aspx?request_type=inag">–û—Ç—á—ë—Ç—ã –ù–ö–û</a></li>
						<li class="nav-item"><a class="nav-link" href="https://github.com/fz255/foreign-agents">Github</a></li>
					</ul>
				</div>
			</div>
		</nav>
		<div class="container noprint">
			<br>
			<div class="row">
				<center>
					<div id="reestr"></div>
				</center>
			</div>
		</div>
		<footer class="noprint">
			<center>
				<br>
				<p>&copy; 2024, <a href="https://li0ard.github.io">li0ard</a>. Made with üïäÔ∏è</p>
				<br>
			</center>
		</footer>
		<script type="text/javascript">
			const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')
			const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl))
			const grid = new gridjs.Grid({
				columns: [
					{
						"id": "id",
						"name": "‚Ññ"
					},
					{
						"id": "fullName",
						"name": "–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ"
					},
					{
						"id": "dob",
						"name": "–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è",
						hidden: true
					},
					{
						"id": "ogrn",
						"name": "–û–ì–†–ù",
						hidden: true
					},
					{
						"id": "inn",
						"name": "–ò–ù–ù",
						hidden: true
					},
					{
						"id": "regNum",
						"name": "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –Ω–æ–º–µ—Ä",
						hidden: true
					},
					{
						"id": "snils",
						"name": "–°–ù–ò–õ–°",
						hidden: true
					},
					{
						"id": "address",
						"name": "–ê–¥—Ä–µ—Å",
						hidden: true
					},
					{
						"id": "resources",
						"name": "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π —Ä–µ—Å—É—Ä—Å",
						hidden: true
					},
					{
						"id": "members",
						"name": "–£—á–∞—Å—Ç–Ω–∏–∫–∏",
						hidden: true
					},
					{
						"id": "law",
						"name": "–û—Å–Ω–æ–≤–∞–Ω–∏–µ –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è",
						hidden: true
					},

					{
						"id": "dateIn",
						"name": "–î–∞—Ç–∞ –≤–∫–ª—é—á–µ–Ω–∏—è",
						hidden: true
					},
					{
						"id": "dateOut",
						"name": "–î–∞—Ç–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏—è",
						hidden: true
					},
					{
						"id": "datePubl",
						"name": "–î–∞—Ç–∞ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–∏—è —Ä–µ—à–µ–Ω–∏—è –æ –≤–∫–ª—é—á–µ–Ω–∏–∏",
						hidden: true
					},
					{
						"id": "actions",
						"name": "",
						formatter: (cell, row) => {
							return gridjs.h('button', {
								className: "btn btn-primary",
								onClick: () => {
									let data = row.cells
									document.getElementById("number").textContent = data[0].data
									document.getElementById("name").textContent = data[1].data
									document.getElementById("dob").textContent = data[2].data != "" ? data[2].data : "-"
									//document.getElementById("address").textContent = data[7].data
									document.getElementById("resources").textContent = data[8].data != "" ? data[8].data : "–ù–µ —É–∫–∞–∑–∞–Ω—ã"
									document.getElementById("members").textContent = data[9].data != "" ? data[9].data : "–ù–µ —É–∫–∞–∑–∞–Ω—ã"
									document.getElementById("law").textContent = data[10].data
									document.getElementById("law_link").setAttribute("href", `https://www.consultant.ru/search/?q=${data[10].data}`)
									document.getElementById("dateIn").textContent = data[11].data
									document.getElementById("dateOut").textContent = data[12].data != "" ? data[12].data : "-"
									document.getElementById("datePubl").textContent = data[13].data != "" ? data[13].data : "-"
									document.getElementById("msg").textContent = `18+ –ù–ê–°–¢–û–Ø–©–ò–ô –ú–ê–¢–ï–†–ò–ê–õ (–ò–ù–§–û–†–ú–ê–¶–ò–Ø) –ü–†–û–ò–ó–í–ï–î–ï–ù –ò (–ò–õ–ò) –†–ê–°–ü–†–û–°–¢–†–ê–ù–ï–ù –ò–ù–û–°–¢–†–ê–ù–ù–´–ú –ê–ì–ï–ù–¢–û–ú ${data[1].data.toUpperCase()}, –õ–ò–ë–û –ö–ê–°–ê–ï–¢–°–Ø –î–ï–Ø–¢–ï–õ–¨–ù–û–°–¢–ò –ò–ù–û–°–¢–†–ê–ù–ù–û–ì–û –ê–ì–ï–ù–¢–ê ${data[1].data.toUpperCase()}.`

									if (data[2].data != "" || data[4].data.length == 12) {
										document.getElementById("reg").innerHTML = `${data[4].data != "" ? `<a href="https://egrul.itsoft.ru/${data[4].data.split(" ").join("")}">${data[4].data}</a>` : "-"} / ${data[6].data != "" ? data[6].data : "-"}`
									}
									else if(data[3].data != "" || data[4].data.length == 10) {
										document.getElementById("reg").innerHTML = `<a href="https://egrul.itsoft.ru/${data[4].data.split(" ").join("")}">${data[4].data}</a> / ${data[3].data != "" ? data[3].data : "-"}`
									}
									else if(data[5].data != "") {
										document.getElementById("reg").innerHTML = `${data[5].data}`
									}
									else {
										document.getElementById("reg").innerHTML = `-`
									}

									document.getElementById("press_link").setAttribute("href", `https://minjust.gov.ru/ru/events/list/?words=–û+—Ä–µ–µ—Å—Ç—Ä–µ+–∏–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã—Ö+–∞–≥–µ–Ω—Ç–æ–≤&start_date=${data[11].data.replaceAll(".", "-")}&end_date=${moment(data[11].data, "DD.MM.YYYY").add(6, "days").format("DD-MM-YYYY")}`)
									new bootstrap.Modal("#card").show()
								}
							}, '–ü—Ä–æ—Å–º–æ—Ç—Ä')
						}
					}
				],
				pagination: {
					limit: 10
				},
				fixedHeader: true,
				search: {
					ignoreHiddenColumns: false,
				},
				language: gridjs.l10n.ruRU,
				server: {
					url: `https://raw.githubusercontent.com/fz255/foreign-agents/main/registry.json`,
					then: data => data
				}
			})
			grid.render(document.getElementById("reestr"));
		</script>
	</body>
</html>
